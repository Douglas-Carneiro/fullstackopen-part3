{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/person.js","App.js","index.js"],"names":["Filter","query","eventHandler","value","onChange","PersonForm","handleSubmit","nameValue","numberValue","handleName","handleNumber","onSubmit","type","Person","name","number","handleDelete","onClick","Persons","contactInfo","searchQuery","removeFunction","map","person","toUpperCase","includes","id","Notification","message","status","className","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","put","remove","delete","Header","text","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setQuery","setMessage","setStatus","useEffect","console","log","event","target","preventDefault","newPerson","find","window","confirm","personService","returnedPerson","catch","error","setTimeout","alert","concat","returnedPersons","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.05613ef6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({query, eventHandler}) => {\n    return (\n        <div>\n            filter shown with: <input value={query} onChange={eventHandler}/>\n        </div>\n    )\n}\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = ({handleSubmit, nameValue, numberValue, handleName, handleNumber}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input value={nameValue} onChange={handleName}/>\n            </div>\n            <div>\n                number: <input value={numberValue} onChange={handleNumber}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({name, number, handleDelete}) => {\n    return (\n        <p>{name} {number} <button onClick={handleDelete}>delete</button></p>\n    )\n}\n\nconst Persons = ({contactInfo, searchQuery, removeFunction}) => {\n    return (\n        <div>\n            {contactInfo.map(person => {\n                if (person.name.toUpperCase().includes(searchQuery.toUpperCase())){\n                    return <Person key={person.name} name={person.name} number={person.number} handleDelete={() => removeFunction(person.id)}/>\n                }\n                return ''\n            })\n            }\n      </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message, status }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={status}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => {\n        return response\n    })\n}\n\nconst exportedObject = {\n    getAll,\n    create,\n    update,\n    remove,\n};\n\nexport default exportedObject","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/person'\n\nconst Header = ({text}) => (\n  <h2>{text}</h2>\n)\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ query, setQuery ] = useState('')\n  const [message, setMessage] = useState('')\n  const [status, setStatus] = useState('')\n\n  const hook = () => {\n    console.log('effect')\n    axios\n      .get('/api/persons')\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }\n  \n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if ((newNumber === '') || (newName === '')) {\n      alert('Fill all the fields!')\n      return\n    }\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.find(person => person.name === newName)) {\n      \n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\n        const person = persons.find(person => person.name === newName)\n        const id = person.id\n\n        personService\n          .update(id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          })\n          .catch(error => {\n            console.log('Error: ',error.response)\n            setMessage(error.response.data.error)\n            setStatus('error')\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          \n          // .catch(error => {\n          //   console.log(error)\n          //   setMessage(\n          //     `Information of ${newPerson.name} has already been removed from the server`\n          //   )\n          //   setStatus('error')\n          //   setTimeout(() => {\n          //     setMessage(null)\n          //   }, 5000)\n          //   setPersons(persons.filter(person => person.id !== id))\n          // })\n      }\n     \n      return\n    }\n\n    if (persons.find(person => person.number === newNumber)) {\n      alert(`${newNumber} is already added to phonebook`)\n      return\n    }\n\n    personService\n      .create(newPerson)\n      .then(returnedPerson => {\n        setMessage(\n          `Added ${returnedPerson.name}`\n        )\n        setStatus('success')\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        console.log('Error: ',error.response)\n        setMessage(error.response.data.error)\n        setStatus('error')\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n  }\n\n  const removePerson = (id) => {\n    const person = persons.find(person => person.id === id)\n\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n      .remove(id)\n      .then(returnedPersons => {\n        console.log('Returned persons: ',returnedPersons)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleQueryChange = (event) => {\n    console.log(event.target.value)\n    setQuery(event.target.value)\n  }\n\n  return (\n    <div>\n      <Header text='Phonebook' />\n      <Notification message={message} status={status}/>\n      <Filter query={query} eventHandler={handleQueryChange}/>\n\n      <Header text='Add a new' />\n      <PersonForm handleSubmit={addPerson} nameValue={newName} numberValue={newNumber} handleName={handleNameChange} handleNumber={handleNumberChange} />\n\n      <Header text='Numbers' />\n      <Persons contactInfo={persons} searchQuery={query} removeFunction={removePerson}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}